<div class="container mx-auto px-4 py-8 p-4  ml-64 w-full h-screen">
  <!-- Summary Cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
    <div class="bg-green-100 p-6 rounded-lg shadow">
      <h3 class="text-lg font-semibold text-green-800">Total Deposits</h3>
      <p class="text-2xl font-bold text-green-600"><%= number_to_currency(@total_deposits) %></p>
      <p class="text-sm text-green-700">Total transactions: <%= @deposits.count %></p>
    </div>

    <div class="bg-blue-100 p-6 rounded-lg shadow">
      <h3 class="text-lg font-semibold text-blue-800">Total Credits</h3>
      <p class="text-2xl font-bold text-blue-600"><%= number_to_currency(@total_credits) %></p>
      <p class="text-sm text-blue-700">Total transactions: <%= @credits.count %></p>
    </div>

    <div class="bg-yellow-100 p-6 rounded-lg shadow">
      <h3 class="text-lg font-semibold text-yellow-800">Total Returns</h3>
      <p class="text-2xl font-bold text-yellow-600"><%= number_to_currency(@total_returns) %></p>
      <p class="text-sm text-yellow-700">Total transactions: <%= @returns.count %></p>
    </div>
  </div>

  <!-- Deposits Table -->
  <div class="mb-8">
    <h2 class="text-xl font-bold mb-4">Deposits</h2>
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white rounded-lg shadow">
        <thead class="bg-gray-100">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
        </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
        <% @deposits.each do |deposit| %>
          <tr>
            <td class="px-6 py-4 whitespace-nowrap">
              <%= (deposit['date'].is_a?(Date) ? deposit['date'] : Date.parse(deposit['date'])).strftime("%B %d, %Y") %>
            </td>
            <td class="px-6 py-4"><%= deposit['description'] %></td>

            <td class="px-6 py-4 text-green-600 font-semibold"><%= number_to_currency(deposit['amount']) %></td>
            <td class="px-6 py-4"><%= deposit['type'] %></td>
          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Credits Table -->
  <div class="mb-8">
    <h2 class="text-xl font-bold mb-4">Credits</h2>
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white rounded-lg shadow">
        <thead class="bg-gray-100">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
        </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
        <% @credits.each do |credit| %>
          <tr>
            <td class="px-6 py-4 whitespace-nowrap">
              <%= (credit['date'].is_a?(Date) ? credit['date'] : Date.parse(credit['date'])).strftime("%B %d, %Y") %>
            </td>
            <td class="px-6 py-4"><%= credit['description'] %></td>
            <td class="px-6 py-4 text-blue-600 font-semibold"><%= number_to_currency(credit['amount']) %></td>
            <td class="px-6 py-4"><%= credit['type'] %></td>
          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>

  <!-- Returns Table -->
  <div class="mb-8">
    <h2 class="text-xl font-bold mb-4">Returns</h2>
    <div class="overflow-x-auto">
      <table class="min-w-full bg-white rounded-lg shadow">
        <thead class="bg-gray-100">
        <tr>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Description</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
          <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Type</th>
        </tr>
        </thead>
        <tbody class="divide-y divide-gray-200">
        <% @returns.each do |return_item| %>
          <tr>
            <td class="px-6 py-4 whitespace-nowrap">
              <%= (return_item['date'].is_a?(Date) ? return_item['date'] : Date.parse(return_item['date'])).strftime("%B %d, %Y") %>
            </td>
            <td class="px-6 py-4"><%= return_item['description'] %></td>
            <td class="px-6 py-4 text-yellow-600 font-semibold"><%= number_to_currency(return_item['amount']) %></td>
            <td class="px-6 py-4"><%= return_item['type'] %></td>

          </tr>
        <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>